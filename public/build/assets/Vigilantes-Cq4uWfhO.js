import{j as e}from"./app-DJ5bgocT.js";import{r as d,L as p,a as j}from"./vendor-x9zrslyQ.js";import{S}from"./SidebarLayout-dYuel0tg.js";import{T as r}from"./ThemeButton-7DT0h3f3.js";import{U as V}from"./users-F8RKVWAu.js";import{C as L}from"./circle-check-big-BY_4AP0I.js";import{C as h}from"./clock-BxYY4ze5.js";import{M as u}from"./map-pin-Bf1Nbq6Q.js";import{S as T}from"./search-CnVRK-jH.js";import{S as b}from"./shield-sybB8x6n.js";import{E as z}from"./eye-DBMp8Tk3.js";import{S as A}from"./square-pen-Cg0nidcY.js";import{T as U}from"./trash-2-6pqDQCm4.js";import{P as f}from"./plus-B724myQV.js";import"./LogoDisplay-BOBuzyd2.js";import"./createLucideIcon-DJ0S87ah.js";import"./log-out-EHiVwLuR.js";import"./settings-BHex1vnf.js";function $({vigilantes:y=[],estadisticas:l={}}){const[a,o]=d.useState({buscar:"",ubicacion:"",turno:""}),[t,N]=d.useState(null),[v,i]=d.useState(!1),[c,x]=d.useState(null),n={total_vigilantes:l?.total_vigilantes||0,vigilantes_activos:l?.vigilantes_activos||0,turnos_cubiertos:l?.turnos_cubiertos||0,ubicaciones_asignadas:l?.ubicaciones_asignadas||0},m=(y||[]).filter(s=>{if(!s)return!1;const _=!a.buscar||(s.nombre||"").toLowerCase().includes(a.buscar.toLowerCase())||(s.email||"").toLowerCase().includes(a.buscar.toLowerCase())||(s.cedula||"").toLowerCase().includes(a.buscar.toLowerCase()),E=!a.ubicacion||(s.ubicacion_asignada||"").toLowerCase().includes(a.ubicacion.toLowerCase());return _&&E}),w=s=>{N(s),i(!0)},g=s=>{j.get(route("admin.vigilantes.edit",s.id))},C=s=>{x(s)},k=()=>{c&&j.delete(route("admin.vigilantes.destroy",c.id),{onSuccess:()=>{x(null)}})};return e.jsxs(S,{title:"Gestión de Vigilantes - SENA",header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestión de Vigilantes"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Administra el personal de vigilancia y seguridad"})]}),e.jsx(r,{variant:"primary",size:"base",className:"flex items-center gap-2",children:e.jsxs(p,{href:route("admin.vigilantes.create"),className:"flex items-center gap-2",children:[e.jsx(f,{size:20}),"Nuevo Vigilante"]})})]}),children:[e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Vigilantes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.total_vigilantes})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(V,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Vigilantes Activos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.vigilantes_activos})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Turnos Cubiertos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.turnos_cubiertos})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ubicaciones Asignadas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.ubicaciones_asignadas})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(u,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o cédula...",value:a.buscar,onChange:s=>o({...a,buscar:s.target.value}),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsxs("select",{value:a.ubicacion,onChange:s=>o({...a,ubicacion:s.target.value}),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Todas las ubicaciones"}),e.jsx("option",{value:"entrada principal",children:"Entrada Principal"}),e.jsx("option",{value:"entrada secundaria",children:"Entrada Secundaria"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsxs("select",{value:a.turno,onChange:s=>o({...a,turno:s.target.value}),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Todos los turnos"}),e.jsx("option",{value:"mañana",children:"Mañana (06:00 - 14:00)"}),e.jsx("option",{value:"tarde",children:"Tarde (14:00 - 22:00)"}),e.jsx("option",{value:"noche",children:"Noche (22:00 - 06:00)"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Lista de Vigilantes (",m.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:m.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vigilante"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ubicación Asignada"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turno"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(b,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.nombre}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Desde: ",s.fecha_creacion]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.email}),e.jsx("div",{className:"text-sm text-gray-500",children:s.telefono})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.cedula})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.ubicacion_asignada})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[s.hora_inicio_turno," - ",s.hora_fin_turno]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:s.estado})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>w(s),className:"text-blue-600 hover:text-blue-900 p-1 rounded-md hover:bg-blue-50",children:e.jsx(z,{size:16})}),e.jsx("button",{onClick:()=>g(s),className:"text-yellow-600 hover:text-yellow-900 p-1 rounded-md hover:bg-yellow-50",children:e.jsx(A,{size:16})}),e.jsx("button",{onClick:()=>C(s),className:"text-red-600 hover:text-red-900 p-1 rounded-md hover:bg-red-50",children:e.jsx(U,{size:16})})]})})]},s.id))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:a.buscar||a.ubicacion||a.turno?"No se encontraron vigilantes con los filtros aplicados":"No hay vigilantes registrados"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:a.buscar||a.ubicacion||a.turno?"Intenta ajustar los filtros de búsqueda":"Comienza agregando el primer vigilante al sistema"}),!a.buscar&&!a.ubicacion&&!a.turno&&e.jsx(r,{variant:"primary",children:e.jsxs(p,{href:route("admin.vigilantes.create"),className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Agregar Vigilante"]})})]})})]})]}),v&&t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Detalles del Vigilante"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsx("div",{className:"px-6 py-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.nombre})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cédula"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.cedula})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.telefono})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ubicación Asignada"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.ubicacion_asignada})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Turno"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[t.hora_inicio_turno," - ",t.hora_fin_turno]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:t.estado})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Desde"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.fecha_creacion})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx(r,{variant:"secondary",onClick:()=>i(!1),children:"Cerrar"}),e.jsx(r,{variant:"warning",onClick:()=>{i(!1),g(t)},children:"Editar"})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Eliminación"})}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["¿Estás seguro de que deseas eliminar a ",e.jsx("strong",{children:c.nombre}),"?"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Esta acción no se puede deshacer."})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx(r,{variant:"secondary",onClick:()=>x(null),children:"Cancelar"}),e.jsx(r,{variant:"danger",onClick:k,children:"Eliminar"})]})]})})]})}export{$ as default};
