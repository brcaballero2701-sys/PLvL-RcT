import{j as e}from"./app-BRN7_fgC.js";import{r as c,u as h,H as j,L as b}from"./vendor-x9zrslyQ.js";import{I as N}from"./InputError-CJJ5ODE3.js";import{I as v}from"./InputLabel-D3oNegGx.js";import{P as y}from"./PrimaryButton-CKC8CC-Q.js";import{T as w}from"./TextInput-7lhmYcge.js";import{G as C}from"./GuestLayout-uQhFEm3A.js";import{S}from"./shield-sybB8x6n.js";import{M as I}from"./mail-CDHV8kNW.js";import{C as E}from"./clock-BxYY4ze5.js";import{A as L}from"./arrow-left-CnFJRCdA.js";import"./LogoDisplay-kgMPAL-l.js";import"./createLucideIcon-DJ0S87ah.js";function _({email:o,status:a}){const[t,n]=c.useState(900),{data:i,setData:d,post:m,processing:l,errors:x}=h({email:o||"",code:""});c.useEffect(()=>{const s=setInterval(()=>{n(r=>r<=1?(clearInterval(s),0):r-1)},1e3);return()=>clearInterval(s)},[]);const u=s=>{const r=Math.floor(s/60),g=s%60;return`${r}:${g.toString().padStart(2,"0")}`},f=s=>{s.preventDefault(),m(route("password.verify-code"))},p=()=>{window.location.href=route("password.request")};return e.jsxs(C,{children:[e.jsx(j,{title:"Verificar C√≥digo - Sistema SENA"}),e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(S,{className:"text-green-600 mr-3",size:32}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verificar C√≥digo"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ingresa el c√≥digo de 6 d√≠gitos que enviamos a tu correo electr√≥nico"})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(I,{className:"text-blue-600 mr-2",size:16}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"C√≥digo enviado a:"})]}),e.jsx("p",{className:"text-sm text-blue-800 font-mono",children:o})]}),a&&e.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:a})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"code",value:"C√≥digo de Recuperaci√≥n"}),e.jsx(w,{id:"code",type:"text",name:"code",value:i.code,className:"mt-2 block w-full text-center text-2xl font-mono tracking-widest",isFocused:!0,onChange:s=>d("code",s.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",maxLength:"6",required:!0}),e.jsx(N,{message:x.code,className:"mt-2"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:"Ingresa el c√≥digo de 6 d√≠gitos que recibiste por correo"})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(E,{className:"text-yellow-600 mr-2",size:16}),e.jsx("span",{className:"text-sm font-medium text-yellow-900",children:t>0?"Tiempo restante:":"C√≥digo expirado"})]}),e.jsx("p",{className:"text-lg font-mono text-yellow-800",children:t>0?u(t):"00:00"}),t<=0&&e.jsx("p",{className:"text-xs text-yellow-700 mt-2",children:"El c√≥digo ha expirado. Solicita uno nuevo."})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx(y,{disabled:l||t<=0||i.code.length!==6,className:"w-full justify-center py-3",children:l?"Verificando...":"üîì Verificar C√≥digo"}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("button",{type:"button",onClick:p,className:"text-sm text-green-600 hover:text-green-800 transition-colors",disabled:t>0,children:"üìß Enviar nuevo c√≥digo"}),e.jsxs(b,{href:route("login"),className:"flex items-center text-sm text-gray-600 hover:text-green-600 transition-colors",children:[e.jsx(L,{size:16,className:"mr-2"}),"Volver al inicio de sesi√≥n"]})]})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"‚ùì ¬øNo recibiste el c√≥digo?"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Revisa tu carpeta de spam o correo no deseado"}),e.jsx("li",{children:"‚Ä¢ Verifica que el correo electr√≥nico est√© escrito correctamente"}),e.jsx("li",{children:"‚Ä¢ El c√≥digo puede tardar unos minutos en llegar"}),e.jsx("li",{children:"‚Ä¢ Si sigues sin recibirlo, contacta al administrador"})]})]})]})}export{_ as default};
