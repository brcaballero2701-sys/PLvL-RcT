import{j as e}from"./app-RZ6KLPYO.js";import{r as m,u as N,L as v}from"./vendor-x9zrslyQ.js";import{S as _,X as w}from"./SidebarLayout-CnrJwSn-.js";import{P as C}from"./plus-B724myQV.js";import{S as H}from"./save-CdFK5_sq.js";import{C as x}from"./clock-BxYY4ze5.js";import{S as k}from"./square-pen-Cg0nidcY.js";import{T as z}from"./trash-2-6pqDQCm4.js";import{A as S}from"./arrow-left-CnFJRCdA.js";import"./LogoDisplay-D9oHNFRY.js";import"./createLucideIcon-DJ0S87ah.js";import"./log-out-EHiVwLuR.js";import"./users-F8RKVWAu.js";import"./settings-BHex1vnf.js";import"./shield-sybB8x6n.js";function B({horarios:n=[]}){const[d,i]=m.useState(!1),[o,l]=m.useState(null),{data:t,setData:a,post:u,put:g,processing:p,errors:s,reset:c}=N({nombre:"",hora_inicio:"",hora_fin:"",tolerancia_minutos:5,descripcion:""}),h=r=>{r.preventDefault(),u(route("admin.horarios.store"),{onSuccess:()=>{c(),i(!1)}})},b=r=>{l(r),a({nombre:r.nombre,hora_inicio:r.hora_inicio,hora_fin:r.hora_fin,tolerancia_minutos:r.tolerancia_minutos,descripcion:r.descripcion||""}),i(!0)},f=r=>{r.preventDefault(),g(route("admin.horarios.update",o.id),{onSuccess:()=>{c(),i(!1),l(null)}})},j=r=>{confirm(`¬øEst√°s seguro de que deseas eliminar el horario "${r.nombre}"?`)&&console.log("Eliminar horario:",r.id)},y=()=>{c(),i(!1),l(null)};return e.jsx(_,{title:"Configuraci√≥n Avanzada - Horarios y Asistencias",header:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(v,{href:route("admin.configuraciones"),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(S,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Configuraci√≥n Avanzada de Horarios"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona los horarios de trabajo y tolerancias"})]})]}),children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[!d&&e.jsxs("button",{onClick:()=>i(!0),className:"mb-6 flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:[e.jsx(C,{size:20}),"Agregar Nuevo Horario"]}),d&&e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:o?"Editar Horario":"Crear Nuevo Horario"}),e.jsxs("form",{onSubmit:o?f:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Horario"}),e.jsx("input",{type:"text",value:t.nombre,onChange:r=>a("nombre",r.target.value),placeholder:"Ej: Turno Ma√±ana",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),s.nombre&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.nombre})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de Inicio"}),e.jsx("input",{type:"time",value:t.hora_inicio,onChange:r=>a("hora_inicio",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),s.hora_inicio&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.hora_inicio})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de Fin"}),e.jsx("input",{type:"time",value:t.hora_fin,onChange:r=>a("hora_fin",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),s.hora_fin&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.hora_fin})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tolerancia de Retraso (minutos)"}),e.jsx("input",{type:"number",value:t.tolerancia_minutos,onChange:r=>a("tolerancia_minutos",parseInt(r.target.value)),min:"0",max:"60",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minutos permitidos de retraso sin registrar como tarde"}),s.tolerancia_minutos&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:s.tolerancia_minutos})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci√≥n (Opcional)"}),e.jsx("textarea",{value:t.descripcion,onChange:r=>a("descripcion",r.target.value),placeholder:"Descripci√≥n del horario...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs("button",{type:"submit",disabled:p,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-6 rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(H,{size:18}),o?"Actualizar":"Crear"," Horario"]}),e.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium py-2 px-6 rounded-lg transition-colors",children:[e.jsx(w,{size:18}),"Cancelar"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Horarios Configurados"})}),n&&n.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:n.map(r=>e.jsx("div",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(x,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.nombre}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["‚è∞ ",r.hora_inicio," - ",r.hora_fin]}),r.descripcion&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:r.descripcion}),e.jsx("div",{className:"flex items-center gap-4 mt-2",children:e.jsxs("span",{className:"inline-flex px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-semibold rounded-full",children:["Tolerancia: ",r.tolerancia_minutos," min"]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(r),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:e.jsx(k,{size:18})}),e.jsx("button",{onClick:()=>j(r),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:e.jsx(z,{size:18})})]})]})},r.id))}):e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx(x,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No hay horarios configurados"}),e.jsx("p",{className:"text-sm text-gray-500",children:'Crea el primer horario haciendo clic en el bot√≥n "Agregar Nuevo Horario"'})]})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"üí° Informaci√≥n √ötil"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-blue-800 text-sm",children:[e.jsx("li",{children:"Los horarios definen los per√≠odos de trabajo para los instructores"}),e.jsx("li",{children:"La tolerancia permite llegar unos minutos tarde sin registrar como retraso"}),e.jsx("li",{children:"Puedes crear m√∫ltiples horarios para diferentes turnos"}),e.jsx("li",{children:"Cada instructor puede ser asignado a un horario espec√≠fico"})]})]})]})})}export{B as default};
