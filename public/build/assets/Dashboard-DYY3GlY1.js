import{j as e}from"./app-RZ6KLPYO.js";import{S as f,U as v}from"./SidebarLayout-CnrJwSn-.js";import{H as w}from"./vendor-x9zrslyQ.js";import{U as m}from"./users-F8RKVWAu.js";import{S as A}from"./shield-sybB8x6n.js";import{c as C}from"./createLucideIcon-DJ0S87ah.js";import{C as x}from"./clock-BxYY4ze5.js";import{T as h}from"./trending-up-kLW4bIyY.js";import{C as U}from"./calendar-lDWT8Q70.js";import"./LogoDisplay-D9oHNFRY.js";import"./log-out-EHiVwLuR.js";import"./settings-BHex1vnf.js";const S=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],g=C("activity",S);function q({auth:j,stats:a,recentUsers:l,recentAsistencias:i,rolesDistribution:d,weeklyAsistencias:c,systemStatus:u}){const t=({icon:s,title:n,value:o,change:r,color:b,bgColor:y})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:n}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:o}),r&&e.jsxs("p",{className:`text-sm mt-2 flex items-center ${r>0?"text-green-600":"text-red-600"}`,children:[e.jsx(h,{className:"w-4 h-4 mr-1"}),r>0?"+":"",r,"%"]})]}),e.jsx("div",{className:`w-12 h-12 ${y} rounded-lg flex items-center justify-center`,children:e.jsx(s,{className:`w-6 h-6 ${b}`})})]})}),p=({activity:s})=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-4 h-4 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.role," • ",s.created_at]})]})]}),N=({asistencia:s})=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(x,{className:"w-4 h-4 text-green-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.user_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.fecha," • ",s.hora_entrada]})]})]});return e.jsxs(f,{title:"Dashboard",header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Dashboard"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:new Date().toLocaleDateString("es-ES")})]})]}),children:[e.jsx(w,{title:"Dashboard"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg shadow-sm p-6 text-white",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["¡Bienvenido de vuelta, ",j.user.name,"!"]}),e.jsx("p",{className:"text-blue-100",children:"Aquí tienes un resumen de la actividad del sistema."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(t,{icon:m,title:"Total Usuarios",value:a?.totalUsers||0,change:a?.weekAsistencias>a?.todayAsistencias?Math.round((a.weekAsistencias-a.todayAsistencias)/a.todayAsistencias*100):null,color:"text-blue-600",bgColor:"bg-blue-100"}),e.jsx(t,{icon:A,title:"Guardias Activos",value:a?.totalGuardias||0,color:"text-yellow-600",bgColor:"bg-yellow-100"}),e.jsx(t,{icon:v,title:"Asistencias Hoy",value:a?.todayAsistencias||0,change:a?.weekAsistencias>0?Math.round(a.todayAsistencias/a.weekAsistencias*100-100):null,color:"text-green-600",bgColor:"bg-green-100"}),e.jsx(t,{icon:g,title:"Usuarios Activos",value:a?.activeUsers||0,color:"text-purple-600",bgColor:"bg-purple-100"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Asistencias de la Semana"}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:u?.server_status==="online"?"Sistema Activo":"Sistema Inactivo"})})]}),e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-7 gap-2",children:c&&c.map((s,n)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:s.day}),e.jsxs("div",{className:"bg-gray-100 rounded-lg h-24 flex items-end justify-center relative",children:[e.jsx("div",{className:"bg-blue-600 rounded-t w-full transition-all duration-300",style:{height:`${Math.max(s.count/Math.max(...c.map(o=>o.count))*100,10)}%`}}),e.jsx("span",{className:"absolute bottom-1 text-xs text-white font-medium",children:s.count})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:s.date})]},n))})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Distribución de Roles"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Administradores"}),e.jsx("span",{className:"text-sm font-medium",children:d?.admin||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Guardias"}),e.jsx("span",{className:"text-sm font-medium",children:d?.guardia||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Usuarios"}),e.jsx("span",{className:"text-sm font-medium",children:d?.user||0})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Usuarios Recientes"}),e.jsx("div",{className:"space-y-1",children:l&&l.length>0?l.map(s=>e.jsx(p,{activity:s},s.id)):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay usuarios recientes"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Asistencias Recientes"}),e.jsx("div",{className:"space-y-1",children:i&&i.length>0?i.map(s=>e.jsx(N,{asistencia:s},s.id)):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No hay asistencias recientes"})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Accesos Rápidos"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("a",{href:route("admin.users.index"),className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors group",children:[e.jsx(m,{className:"w-8 h-8 text-blue-600 group-hover:text-blue-700"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Gestionar Usuarios"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a?.totalUsers||0," usuarios totales"]})]})]}),e.jsxs("a",{href:route("admin.configuraciones"),className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors group",children:[e.jsx(g,{className:"w-8 h-8 text-purple-600 group-hover:text-purple-700"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Configuraciones"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Ajustes del sistema"})]})]}),e.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors group cursor-pointer",children:[e.jsx(x,{className:"w-8 h-8 text-green-600 group-hover:text-green-700"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Asistencias"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a?.todayAsistencias||0," hoy"]})]})]}),e.jsxs("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors group cursor-pointer",children:[e.jsx(h,{className:"w-8 h-8 text-yellow-600 group-hover:text-yellow-700"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Reportes"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Análisis y estadísticas"})]})]})]})]})]})})]})}export{q as default};
