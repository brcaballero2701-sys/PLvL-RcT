import{j as e}from"./app-DJ5bgocT.js";import{b as Ae,r as l,u as Pe}from"./vendor-x9zrslyQ.js";import{S as $e}from"./SidebarLayout-dYuel0tg.js";import{C as q}from"./clock-BxYY4ze5.js";import{U as K}from"./users-F8RKVWAu.js";import{c as z}from"./createLucideIcon-DJ0S87ah.js";import{S as N}from"./shield-sybB8x6n.js";import{C as ce}from"./circle-check-big-BY_4AP0I.js";import{U as D}from"./upload-B6YtIVIu.js";import{T as qe}from"./triangle-alert-BIyt8psk.js";import{D as X}from"./download-BHf5bgVU.js";import{T as De}from"./trash-2-6pqDQCm4.js";import"./LogoDisplay-BOBuzyd2.js";import"./log-out-EHiVwLuR.js";import"./settings-BHex1vnf.js";const ze=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Le=z("database",ze);const Oe=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],de=z("hard-drive",Oe);const Fe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ie=z("image",Fe);const Me=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ge=z("message-square",Me);function cs(){const{rolesStats:v,asistenciasStats:T,asistenciasRecientes:L,systemSettings:n,backupFiles:R}=Ae().props,[m,b]=l.useState("horarios"),[f,V]=l.useState("configuracion"),[t,x]=l.useState({color_success:n?.notification_color_success||"green",color_error:n?.notification_color_error||"red",color_warning:n?.notification_color_warning||"yellow",color_info:n?.notification_color_info||"blue",duration:String(n?.notification_duration||"5"),position:n?.notification_position||"top-right",sound:n?.notification_sound||!1,animation:n?.notification_animation||"slide"}),[w,u]=l.useState({loading:!1,message:""});l.useEffect(()=>{n&&x({color_success:n.notification_color_success||"green",color_error:n.notification_color_error||"red",color_warning:n.notification_color_warning||"yellow",color_info:n.notification_color_info||"blue",duration:String(n.notification_duration||"5"),position:n.notification_position||"top-right",sound:n.notification_sound||!1,animation:n.notification_animation||"slide"})},[n]);const[O,h]=l.useState({loading:!1,message:""}),[me,J]=l.useState(Date.now()),[ge,W]=l.useState(n?.logo_path||"/images/sena-logo.svg"),[xe,ue]=l.useState(n?.primary_color||"green"),[F,_]=l.useState({loading:!1,message:""}),[I,he]=l.useState(n?.primary_color||"green"),[c,C]=l.useState({min_length:n?.password_min_length||"8",require_uppercase:n?.password_require_uppercase!==!1,require_numbers:n?.password_require_numbers!==!1,require_special:n?.password_require_special||!1,expiration_days:n?.password_expiration_days||"90"}),[Be,He]=l.useState({}),[k,y]=l.useState({loading:!1,message:"",type:"info"}),[S,d]=l.useState({loading:!1,message:""}),[p,M]=l.useState(null),[Z,Ue]=l.useState(!1),[Q,Y]=l.useState(R||[]),[pe,G]=l.useState(!1),[B,ee]=l.useState(""),[H,j]=l.useState(""),[se,A]=l.useState(!1),E={green:{50:"240, 253, 244",100:"220, 252, 231",200:"187, 247, 208",300:"134, 239, 172",400:"74, 222, 128",500:"34, 197, 94",600:"22, 163, 74",700:"16, 185, 74",800:"20, 83, 45",900:"20, 83, 45"},blue:{50:"239, 246, 255",100:"219, 234, 254",200:"191, 219, 254",300:"147, 197, 253",400:"96, 165, 250",500:"59, 130, 246",600:"37, 99, 235",700:"29, 78, 216",800:"30, 58, 138",900:"30, 58, 138"},indigo:{50:"238, 242, 255",100:"224, 231, 255",200:"199, 210, 254",300:"165, 180, 252",400:"129, 140, 248",500:"99, 102, 241",600:"79, 70, 229",700:"67, 56, 202",800:"55, 48, 163",900:"55, 48, 163"},purple:{50:"250, 245, 255",100:"243, 232, 255",200:"232, 204, 255",300:"216, 180, 254",400:"192, 132, 250",500:"168, 85, 247",600:"147, 51, 234",700:"126, 34, 206",800:"88, 28, 135",900:"88, 28, 135"},red:{50:"254, 242, 242",100:"254, 226, 226",200:"254, 202, 202",300:"252, 165, 165",400:"248, 113, 113",500:"239, 68, 68",600:"220, 38, 38",700:"185, 28, 28",800:"127, 29, 29",900:"127, 29, 29"},orange:{50:"255, 247, 237",100:"255, 237, 213",200:"254, 215, 170",300:"253, 186, 116",400:"251, 146, 60",500:"249, 115, 22",600:"234, 88, 12",700:"194, 65, 12",800:"124, 45, 18",900:"124, 45, 18"},yellow:{50:"254, 252, 232",100:"254, 248, 204",200:"254, 240, 138",300:"253, 224, 71",400:"250, 204, 21",500:"234, 179, 8",600:"202, 138, 4",700:"161, 98, 7",800:"113, 63, 18",900:"113, 63, 18"},teal:{50:"240, 253, 250",100:"204, 251, 241",200:"153, 246, 228",300:"94, 234, 212",400:"45, 212, 191",500:"20, 184, 166",600:"13, 148, 136",700:"15, 118, 110",800:"20, 83, 80",900:"20, 83, 80"},cyan:{50:"240, 249, 250",100:"207, 250, 254",200:"165, 243, 252",300:"103, 232, 249",400:"34, 211, 238",500:"34, 211, 238",600:"8, 145, 178",700:"14, 116, 144",800:"21, 94, 117",900:"21, 94, 117"},gray:{50:"249, 250, 251",100:"243, 244, 246",200:"229, 231, 235",300:"209, 213, 219",400:"156, 163, 175",500:"107, 114, 128",600:"75, 85, 99",700:"55, 65, 81",800:"31, 41, 55",900:"17, 24, 39"},slate:{50:"248, 250, 252",100:"241, 245, 249",200:"226, 232, 240",300:"203, 213, 225",400:"148, 163, 184",500:"100, 116, 139",600:"71, 85, 105",700:"51, 65, 85",800:"30, 41, 59",900:"15, 23, 42"},stone:{50:"250, 250, 249",100:"245, 245, 244",200:"231, 229, 228",300:"214, 211, 209",400:"168, 162, 158",500:"120, 113, 108",600:"87, 83, 82",700:"68, 64, 60",800:"41, 37, 36",900:"28, 25, 23"}},{data:P,setData:$,post:Ke,processing:Xe}=Pe({manana_inicio:"06:00",manana_fin:"11:45",tarde_inicio:"12:00",tarde_fin:"17:45",noche_inicio:"18:00",noche_fin:"21:45",desde:"",hasta:""}),re=()=>{alert("Horario actualizado con éxito.")},be=()=>{window.location.reload()},ae=s=>{const r=E[s]||E.green,a=document.getElementById("color-preview-bar");a&&(a.style.backgroundColor=`rgb(${r[600]})`)},fe=s=>{he(s),ae(s)},ye=async s=>{ue(s),_({loading:!0,message:"⏳ Guardando color..."});try{const r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),a=await fetch(route("admin.customization.update-color"),{method:"POST",headers:{"X-CSRF-TOKEN":r,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({primary_color:s})}),o=await a.json();a.ok&&o.success?(_({loading:!1,message:"✅ Color guardado exitosamente"}),setTimeout(()=>_({loading:!1,message:""}),2e3)):_({loading:!1,message:`❌ ${o.message||"Error al guardar"}`})}catch(r){console.error("Error:",r),_({loading:!1,message:"❌ Error al guardar el color: "+r.message})}},te=async s=>{const r=s.target.files?.[0];if(!r)return;h({loading:!0,message:"⏳ Subiendo logo..."});const a=new FormData;a.append("logo",r);try{const o=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),i=await fetch(route("admin.customization.upload-logo"),{method:"POST",headers:{"X-CSRF-TOKEN":o},body:a}),g=await i.json();i.ok&&g.success?(W(g.logo_path||"/images/logo.png"),J(Date.now()),h({loading:!1,message:"✅ Logo subido exitosamente"}),setTimeout(()=>h({loading:!1,message:""}),2e3)):h({loading:!1,message:`❌ ${g.message||"Error al subir"}`})}catch(o){console.error("Error:",o),h({loading:!1,message:"❌ Error: "+o.message})}},je=async()=>{if(confirm("¿Desea restablecer el logo predeterminado?")){h({loading:!0,message:"⏳ Restableciendo logo..."});try{const s=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),r=await fetch(route("admin.customization.reset"),{method:"POST",headers:{"X-CSRF-TOKEN":s,Accept:"application/json"}}),a=await r.json();r.ok&&a.success?(W("/images/sena-logo.png"),J(Date.now()),h({loading:!1,message:"✅ Logo restablecido"}),setTimeout(()=>h({loading:!1,message:""}),2e3)):h({loading:!1,message:`❌ ${a.message||"Error al restablecer"}`})}catch(s){console.error("Error:",s),h({loading:!1,message:"❌ Error: "+s.message})}}};l.useEffect(()=>{ae(I)},[I]);const Ne=async()=>{u({loading:!0,message:"⏳ Guardando configuración..."});try{const s=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),r=await fetch(route("admin.configuraciones.notificaciones"),{method:"POST",headers:{"X-CSRF-TOKEN":s,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({color_success:t.color_success,color_error:t.color_error,color_warning:t.color_warning,color_info:t.color_info,duration:parseInt(t.duration),position:t.position,sound:t.sound||!1,animation:t.animation})}),a=await r.json();r.ok&&a.success?(u({loading:!1,message:"✅ Configuración guardada exitosamente"}),setTimeout(()=>{u({loading:!1,message:""}),oe("success")},1500)):u({loading:!1,message:`❌ ${a.message||"Error al guardar"}`})}catch(s){console.error("Error:",s),u({loading:!1,message:"❌ Error: "+s.message})}},ve=async()=>{if(confirm("¿Está seguro de que desea restablecer la configuración de notificaciones a los valores por defecto?")){u({loading:!0,message:"⏳ Restableciendo configuración..."});try{const s=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),r=await fetch(route("admin.configuraciones.notificaciones"),{method:"POST",headers:{"X-CSRF-TOKEN":s,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({color_success:"green",color_error:"red",color_warning:"yellow",color_info:"blue",duration:5,position:"top-right",sound:!1,animation:"slide"})}),a=await r.json();r.ok&&a.success?(x({color_success:"green",color_error:"red",color_warning:"yellow",color_info:"blue",duration:"5",position:"top-right",sound:!1,animation:"slide"}),u({loading:!1,message:"✅ Configuración restablecida a valores predeterminados"}),setTimeout(()=>u({loading:!1,message:""}),2e3)):u({loading:!1,message:`❌ ${a.message||"Error al restablecer"}`})}catch(s){console.error("Error:",s),u({loading:!1,message:"❌ Error: "+s.message})}}},we=async()=>{const s=parseInt(c.min_length);if(c.require_special&&s<10){y({loading:!1,message:"❌ Si se requieren caracteres especiales, la longitud mínima debe ser al menos 10 caracteres",type:"error"});return}y({loading:!0,message:"⏳ Guardando políticas de seguridad...",type:"info"});try{const r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),a={password_min_length:s,password_require_uppercase:!!c.require_uppercase,password_require_numbers:!!c.require_numbers,password_require_special:!!c.require_special,password_expiration_days:parseInt(c.expiration_days)};console.log("Enviando payload:",a);const o=await fetch(route("admin.configuraciones.seguridad"),{method:"POST",headers:{"X-CSRF-TOKEN":r,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}),i=await o.json();if(console.log("Response status:",o.status),console.log("Response body:",i),o.ok&&i.success)y({loading:!1,message:"✅ Políticas de seguridad guardadas exitosamente",type:"success"}),setTimeout(()=>{y({loading:!1,message:"",type:"info"}),oe("success")},1500);else{const g=i.errors?Object.values(i.errors).flat().join(", "):i.message||"Error desconocido";y({loading:!1,message:`❌ Error: ${g}`,type:"error"})}}catch(r){console.error("Error completo:",r),y({loading:!1,message:`❌ Error de conexión: ${r.message}`,type:"error"})}},_e=async()=>{if(confirm("¿Crear un respaldo de la base de datos ahora?")){d({loading:!0,message:"⏳ Creando respaldo..."});try{const s=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),r=await fetch(route("admin.backup.generate"),{method:"POST",headers:{"X-CSRF-TOKEN":s,Accept:"application/json"}}),a=await r.json();if(r.ok&&a.success){const o={name:a.backup_name||`backup_${new Date().getTime()}.sql`,size:a.size||0,date:new Date().toISOString()};Y([o,...Q]),d({loading:!1,message:"✅ Respaldo creado exitosamente"}),setTimeout(()=>d({loading:!1,message:""}),3e3)}else d({loading:!1,message:`❌ Error: ${a.message||"Error al crear respaldo"}`})}catch(s){console.error("Error:",s),d({loading:!1,message:"❌ Error: "+s.message})}}},Ce=async s=>{try{d({loading:!0,message:"⏳ Descargando respaldo..."});const r=await fetch(route("admin.backup.download",{filename:s}),{method:"GET"});if(!r.ok)throw new Error("Error al descargar el respaldo");const a=await r.blob(),o=window.URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o),d({loading:!1,message:"✅ Respaldo descargado correctamente"}),setTimeout(()=>d({loading:!1,message:""}),2e3)}catch(r){console.error("Error:",r),d({loading:!1,message:"❌ Error: "+r.message})}},ke=async s=>{if(confirm("¿Está seguro de que desea eliminar este respaldo?"))try{const r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),a=await fetch(route("admin.backup.delete",{filename:s}),{method:"DELETE",headers:{"X-CSRF-TOKEN":r,Accept:"application/json"}}),o=await a.json();a.ok&&o.success?(Y(Q.filter(i=>i.name!==s)),d({loading:!1,message:"✅ Respaldo eliminado exitosamente"}),setTimeout(()=>d({loading:!1,message:""}),2e3)):d({loading:!1,message:`❌ ${o.message||"Error al eliminar respaldo"}`})}catch(r){console.error("Error:",r),d({loading:!1,message:"❌ Error: "+r.message})}},Se=async()=>{if(!p){alert("Por favor selecciona un archivo");return}if(!B.trim()){j("La contraseña es requerida");return}A(!0),j("");try{const s=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),r=await fetch(route("admin.backup.confirm-restore"),{method:"POST",headers:{"X-CSRF-TOKEN":s,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:B})}),a=await r.json();if(!r.ok||!a.success){j(a.message||"Contraseña incorrecta"),A(!1);return}const o=new FormData;o.append("backup",p);const i=await fetch(route("admin.backup.restore"),{method:"POST",headers:{"X-CSRF-TOKEN":s},body:o}),g=await i.json();i.ok&&g.success?(G(!1),ee(""),M(null),alert("✅ Base de datos restaurada exitosamente"),setTimeout(()=>window.location.reload(),2e3)):(j(g.message||"Error al restaurar"),A(!1))}catch(s){console.error("Error:",s),j("Error de conexión: "+s.message),A(!1)}},Ee=s=>{ee(s.target.value),H&&j("")},Te=async()=>{if(!p){alert("Por favor selecciona un archivo");return}confirm("⚠️ ADVERTENCIA: Esto restaurará la base de datos. ¿Continuar?")&&G(!0)},oe=s=>{const r={success:{title:"✅ Operación completada",message:"Los cambios se guardaron correctamente"},error:{title:"❌ Error en la operación",message:"No se pudo completar la acción"},warning:{title:"⚠️ Advertencia",message:"Revisa los datos ingresados"},info:{title:"ℹ️ Información",message:"Nueva actualización disponible"}},a=r[s]||r.info,o=document.createElement("div"),i={success:`bg-${t.color_success}-500`,error:`bg-${t.color_error}-500`,warning:`bg-${t.color_warning}-500`,info:`bg-${t.color_info}-500`};o.className=`fixed ${t.position} p-4 rounded-lg border-2 shadow-lg z-50 animate-${t.animation} max-w-sm`,o.innerHTML=`
            <div class="flex items-center gap-3">
                <div class="w-3 h-3 ${i[s]} rounded-full"></div>
                <div>
                    <p class="font-medium">${a.title}</p>
                    <p class="text-sm">${a.message}</p>
                </div>
            </div>
        `;const g={green:"rgb(240, 253, 244)",red:"rgb(254, 242, 242)",yellow:"rgb(254, 252, 232)",blue:"rgb(239, 246, 255)"},ne={green:"rgb(220, 252, 231)",red:"rgb(254, 226, 226)",yellow:"rgb(254, 248, 204)",blue:"rgb(219, 234, 254)"},le={green:"rgb(20, 83, 45)",red:"rgb(127, 29, 29)",yellow:"rgb(113, 63, 18)",blue:"rgb(30, 58, 138)"},U={success:t.color_success,error:t.color_error,warning:t.color_warning,info:t.color_info}[s];o.style.backgroundColor=g[U]||g.blue,o.style.borderColor=ne[U]||ne.blue,o.style.color=le[U]||le.blue,document.body.appendChild(o);const ie=parseInt(t.duration)*1e3||5e3;ie>0&&setTimeout(()=>o.remove(),ie)},Re=s=>s<1024?`${s} B`:s<1024*1024?`${(s/1024).toFixed(2)} KB`:s<1024*1024*1024?`${(s/(1024*1024)).toFixed(2)} MB`:`${(s/(1024*1024*1024)).toFixed(2)} GB`;return e.jsxs($e,{title:"Configuraciones del Sistema - SENA",header:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Configuraciones del Sistema"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Administra parámetros generales, roles y opciones avanzadas"})]}),children:[e.jsxs("div",{className:"flex gap-0",children:[e.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 p-4 overflow-y-auto shadow-lg",children:[e.jsx("h3",{className:"text-gray-700 text-sm font-bold uppercase tracking-widest mb-6 px-3",children:"Opciones de Configuración"}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>b("horarios"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${m==="horarios"?"bg-green-700 text-white font-semibold shadow-lg border-l-4 border-green-700":"text-gray-700 hover:bg-gray-100 border-l-4 border-transparent"}`,children:[e.jsx(q,{size:20}),e.jsx("span",{className:"text-sm",children:"Horarios y Asistencias"})]}),e.jsxs("button",{onClick:()=>b("usuarios"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${m==="usuarios"?"bg-green-700 text-white font-semibold shadow-lg border-l-4 border-green-700":"text-gray-700 hover:bg-gray-100 border-l-4 border-transparent"}`,children:[e.jsx(K,{size:20}),e.jsx("span",{className:"text-sm",children:"Usuarios y Roles"})]}),e.jsxs("button",{onClick:()=>b("mensajes"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${m==="mensajes"?"bg-green-700 text-white font-semibold shadow-lg border-l-4 border-green-700":"text-gray-700 hover:bg-gray-100 border-l-4 border-transparent"}`,children:[e.jsx(Ge,{size:20}),e.jsx("span",{className:"text-sm",children:"Mensajes flash / Notificaciones"})]}),e.jsxs("button",{onClick:()=>b("personalizacion"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${m==="personalizacion"?"bg-green-700 text-white font-semibold shadow-lg border-l-4 border-green-700":"text-gray-700 hover:bg-gray-100 border-l-4 border-transparent"}`,children:[e.jsx(Ie,{size:20}),e.jsx("span",{className:"text-sm",children:"Personalización del Sistema"})]}),e.jsxs("button",{onClick:()=>b("seguridad"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${m==="seguridad"?"bg-green-700 text-white font-semibold shadow-lg border-l-4 border-green-700":"text-gray-700 hover:bg-gray-100 border-l-4 border-transparent"}`,children:[e.jsx(N,{size:20}),e.jsx("span",{className:"text-sm",children:"Seguridad y Contraseñas"})]}),e.jsxs("button",{onClick:()=>b("respaldo"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${m==="respaldo"?"bg-green-700 text-white font-semibold shadow-lg border-l-4 border-green-700":"text-gray-700 hover:bg-gray-100 border-l-4 border-transparent"}`,children:[e.jsx(Le,{size:20}),e.jsx("span",{className:"text-sm",children:"Respaldo y Restauración"})]})]})]}),e.jsxs("main",{className:"flex-1 p-8 overflow-y-auto",children:[m==="horarios"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Horarios y Asistencias"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Configuración de intervalos de trabajo y historial de asistencias"}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>V("configuracion"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="configuracion"||!f?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Configuración de Horarios"}),e.jsx("button",{onClick:()=>V("historial"),className:`py-2 px-1 border-b-2 font-medium text-sm ${f==="historial"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Historial de Asistencias"})]})})}),(!f||f==="configuracion")&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-48",children:[e.jsx("span",{className:"text-lg font-medium text-gray-800",children:"06:00AM-11:45AM"}),e.jsx("span",{className:"text-gray-600 ml-2",children:"(mañana)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"time",value:P.manana_fin,onChange:s=>$("manana_fin",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"PM"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-48",children:[e.jsx("span",{className:"text-lg font-medium text-gray-800",children:"12:00PM-05:45PM"}),e.jsx("span",{className:"text-gray-600 ml-2",children:"(tarde)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"time",value:P.tarde_fin,onChange:s=>$("tarde_fin",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"PM"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-48",children:[e.jsx("span",{className:"text-lg font-medium text-gray-800",children:"06:00PM-09:45PM"}),e.jsx("span",{className:"text-gray-600 ml-2",children:"(noche)"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Desde",value:P.desde,onChange:s=>$("desde",s.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 placeholder-gray-400"}),e.jsx("input",{type:"text",placeholder:"Hasta",value:P.hasta,onChange:s=>$("hasta",s.target.value),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 placeholder-gray-400"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:re,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg",children:"Agregar asistencia"})}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{onClick:re,className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-lg",children:"Guardar"}),e.jsx("button",{onClick:be,className:"bg-white border border-red-300 text-red-600 hover:bg-red-50 font-medium py-3 px-6 rounded-lg",children:"Cancelar"})]})]}),f==="historial"&&e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Asistencias Hoy"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T?.total_hoy||0})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ce,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Llegadas Puntuales"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T?.puntuales||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Llegadas Tarde"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T?.tarde||0})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-6 h-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ausencias"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T?.ausencias||0})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(K,{className:"w-6 h-6 text-red-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Asistencias Recientes"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("input",{type:"date",className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",defaultValue:new Date().toISOString().split("T")[0]})})]})}),e.jsx("div",{className:"overflow-x-auto",children:L&&L.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Instructor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Área"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora Entrada"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora Salida"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map((s,r)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.instructor})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:s.area})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.fecha}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.entrada}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.salida}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${s.estado==="Puntual"?"bg-green-100 text-green-800":s.estado==="Tarde"?"bg-yellow-100 text-yellow-800":s.estado==="Presente"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:s.estado})})]},r))})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(q,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No hay registros de asistencias hoy"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Las asistencias de hoy aparecerán aquí cuando los instructores registren su entrada."})]})})]})]})]}),m==="usuarios"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Usuarios y Roles"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Gestiona los usuarios del sistema y sus roles asignados"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Usuarios"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v?.total||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(K,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Administradores"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v?.admin||0})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Guardias"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v?.guardia||0})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-6 h-6 text-yellow-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Roles del Sistema"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Administrador"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acceso completo al sistema"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:[v?.admin||0," usuarios"]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Guardia"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Registro de asistencias y seguridad"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm",children:[v?.guardia||0," usuarios"]})})]})]})]})]}),m==="mensajes"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Mensajes flash / Notificaciones"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Configura el comportamiento de las notificaciones del sistema"}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Colores de Notificaciones"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notificaciones de Éxito"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded border border-gray-300"}),e.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",value:t.color_success,onChange:s=>x({...t,color_success:s.target.value}),children:[e.jsx("option",{value:"green",children:"Verde (por defecto)"}),e.jsx("option",{value:"blue",children:"Azul"}),e.jsx("option",{value:"purple",children:"Púrpura"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notificaciones de Error"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",value:t.color_error,onChange:s=>x({...t,color_error:s.target.value}),children:[e.jsx("option",{value:"red",children:"Rojo (por defecto)"}),e.jsx("option",{value:"orange",children:"Naranja"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notificaciones de Advertencia"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded border border-gray-300"}),e.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",value:t.color_warning,onChange:s=>x({...t,color_warning:s.target.value}),children:[e.jsx("option",{value:"yellow",children:"Amarillo (por defecto)"}),e.jsx("option",{value:"orange",children:"Naranja"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notificaciones de Información"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded border border-gray-300"}),e.jsxs("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",value:t.color_info,onChange:s=>x({...t,color_info:s.target.value}),children:[e.jsx("option",{value:"blue",children:"Azul (por defecto)"}),e.jsx("option",{value:"gray",children:"Gris"})]})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200 mb-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sonido de notificación"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Reproducir un sonido al mostrar notificaciones"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500",checked:t.sound,onChange:s=>x({...t,sound:s.target.checked})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Animación de entrada"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Efecto visual al mostrar notificaciones"})]}),e.jsxs("select",{className:"w-40 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",value:t.animation,onChange:s=>x({...t,animation:s.target.value}),children:[e.jsx("option",{value:"slide",children:"Deslizar"}),e.jsx("option",{value:"fade",children:"Desvanecer"}),e.jsx("option",{value:"bounce",children:"Rebote"}),e.jsx("option",{value:"scale",children:"Escala"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Comportamiento"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Duración (segundos)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tiempo que permanecerá visible la notificación"})]}),e.jsx("input",{type:"number",min:"1",max:"30",value:t.duration,onChange:s=>x({...t,duration:s.target.value}),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Posición en pantalla"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Dónde aparecerá la notificación"})]}),e.jsxs("select",{className:"w-40 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",value:t.position,onChange:s=>x({...t,position:s.target.value}),children:[e.jsx("option",{value:"top-right",children:"Superior Derecha"}),e.jsx("option",{value:"top-left",children:"Superior Izquierda"}),e.jsx("option",{value:"top-center",children:"Superior Centro"}),e.jsx("option",{value:"bottom-right",children:"Inferior Derecha"}),e.jsx("option",{value:"bottom-left",children:"Inferior Izquierda"}),e.jsx("option",{value:"bottom-center",children:"Inferior Centro"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:Ne,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg",disabled:w.loading,children:w.loading?"Guardando...":"Guardar Cambios"}),e.jsx("button",{onClick:ve,className:"bg-white border border-red-300 text-red-600 hover:bg-red-50 font-medium py-3 px-6 rounded-lg",disabled:w.loading,children:"Restablecer Valores"})]}),w.message&&e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:w.message})]}),m==="personalizacion"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Personalización del Sistema"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Personaliza el logo, colores y apariencia del sistema"}),e.jsxs("div",{className:"bg-white rounded-lg p-8 border border-gray-200 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Logo Institucional"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Cargar Nuevo Logo"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:bg-blue-50 hover:border-blue-400 transition-all",onDragOver:s=>{s.preventDefault(),s.currentTarget.classList.add("bg-blue-50","border-blue-400")},onDragLeave:s=>{s.currentTarget.classList.remove("bg-blue-50","border-blue-400")},onDrop:s=>{s.preventDefault(),s.currentTarget.classList.remove("bg-blue-50","border-blue-400");const r=s.dataTransfer.files[0];r&&te({target:{files:[r]}})},children:[e.jsx("input",{type:"file",accept:"image/*",onChange:te,className:"hidden",id:"logo-upload"}),e.jsxs("label",{htmlFor:"logo-upload",className:"cursor-pointer block",children:[e.jsx(D,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Haz clic para cargar o arrastra una imagen"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, SVG (máx. 2MB)"})]})]}),e.jsx("button",{onClick:je,className:"w-full mt-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-lg transition-colors",children:"Restablecer Logo Predeterminado"}),O.message&&e.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm ${O.message.includes("✅")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:O.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Vista Previa"}),e.jsx("div",{className:"w-full h-64 bg-gray-50 border-2 border-gray-200 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx("img",{src:`${ge}?t=${me}`,alt:"Logo actual",className:"max-h-full max-w-full object-contain",onError:()=>{}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"El logo se mostrará en la esquina superior izquierda del sistema"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-8 border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Esquema de Colores"}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Selecciona el color principal del sistema y ve los cambios en tiempo real"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-6",children:"Color Principal"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.keys(E).map(s=>e.jsxs("button",{onClick:()=>{ye(s),fe(s)},className:`p-0 rounded-lg border-4 transition-all transform hover:scale-105 ${xe===s?`border-${s}-700 ring-4 ring-${s}-200 shadow-lg`:"border-gray-200 hover:border-gray-400"}`,title:s.charAt(0).toUpperCase()+s.slice(1),children:[e.jsx("div",{className:`w-full h-24 bg-${s}-500 rounded`}),e.jsx("div",{className:"bg-white py-2 px-3 rounded-b text-center",children:e.jsx("p",{className:"text-xs font-semibold text-gray-700 capitalize",children:s})})]},s))}),F.message&&e.jsx("div",{className:`mt-6 p-3 rounded-lg text-sm ${F.message.includes("✅")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:F.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Vista Previa de Navegación"}),e.jsx("div",{id:"color-preview-bar",className:"w-full h-16 rounded-lg shadow-md transition-all duration-300 border border-gray-200",style:{backgroundColor:`rgb(${E[I]?.[600]||E.green[600]})`}}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Esta barra de color se aplicará a la navegación principal del sistema"})]})]})]}),m==="seguridad"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Seguridad y Contraseñas"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Configura las políticas de seguridad del sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Contraseñas Seguras"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Activo"})]})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(qe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Autenticación 2FA"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Opcional"})]})]})}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(N,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Bloqueo Automático"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Inactivo"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-8 border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-8",children:"Políticas de Contraseña"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between pb-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Longitud mínima"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Número mínimo de caracteres"})]}),e.jsxs("select",{value:c.min_length,onChange:s=>C({...c,min_length:s.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",children:[e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"12",children:"12"}),e.jsx("option",{value:"16",children:"16"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pb-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Incluir mayúsculas"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Al menos una letra mayúscula"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.require_uppercase,onChange:s=>C({...c,require_uppercase:s.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pb-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Incluir números"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Al menos un dígito"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.require_numbers,onChange:s=>C({...c,require_numbers:s.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pb-6 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Caracteres especiales"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Al menos un símbolo (!@#$%&*)"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.require_special,onChange:s=>C({...c,require_special:s.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Expiración de contraseña"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Días antes de cambio obligatorio"})]}),e.jsxs("select",{value:c.expiration_days,onChange:s=>C({...c,expiration_days:s.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",children:[e.jsx("option",{value:"30",children:"30 días"}),e.jsx("option",{value:"60",children:"60 días"}),e.jsx("option",{value:"90",children:"90 días"}),e.jsx("option",{value:"180",children:"180 días"}),e.jsx("option",{value:"365",children:"365 días"}),e.jsx("option",{value:"0",children:"Sin expiración"})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8 pt-8 border-t border-gray-100",children:[e.jsx("button",{onClick:we,disabled:k.loading,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-3 px-8 rounded-lg transition-colors",children:k.loading?"Guardando...":"Guardar Políticas"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-700 hover:bg-gray-800 text-white font-medium py-3 px-8 rounded-lg transition-colors",children:"Cancelar"})]}),k.message&&e.jsx("div",{className:`mt-6 p-4 rounded-lg text-sm ${k.message.includes("✅")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:k.message})]})]}),m==="respaldo"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Respaldo y Restauración"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Administra copias de seguridad de la base de datos"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-5 h-5 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Crear Respaldo"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Crea una copia de seguridad completa de toda la base de datos del sistema"}),e.jsxs("button",{onClick:_e,disabled:S.loading,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[e.jsx(X,{size:18}),S.loading?"Creando respaldo...":"Descargar Respaldo"]}),S.message&&e.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm ${S.message.includes("✅")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:S.message})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(D,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Restaurar Respaldo"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Restaura la base de datos desde un archivo de respaldo anterior"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:bg-blue-50 hover:border-blue-400 transition-colors",onDragOver:s=>{s.preventDefault(),s.currentTarget.classList.add("bg-blue-50","border-blue-400")},onDragLeave:s=>{s.currentTarget.classList.remove("bg-blue-50","border-blue-400")},onDrop:s=>{s.preventDefault(),s.currentTarget.classList.remove("bg-blue-50","border-blue-400");const r=s.dataTransfer.files[0];r&&M(r)},children:[e.jsx("input",{type:"file",accept:".sql,.zip,.tar.gz",onChange:s=>M(s.target.files?.[0]),className:"hidden",id:"backup-upload"}),e.jsxs("label",{htmlFor:"backup-upload",className:"cursor-pointer block",children:[e.jsx(D,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Arrastra un archivo o haz clic"}),e.jsx("p",{className:"text-xs text-gray-500",children:"SQL, ZIP o TAR.GZ (máx. 500MB)"})]})]}),p&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["📄 ",p.name]}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Tamaño: ",(p.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("button",{onClick:Te,disabled:!p||Z,className:"w-full mt-3 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[e.jsx(D,{size:18}),Z?"Restaurando...":"Restaurar Base de Datos"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mt-8",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Respaldos Disponibles"})}),e.jsx("div",{className:"overflow-x-auto",children:R&&R.length>0?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Archivo"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamaño"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de Creación"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((s,r)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900 font-medium",children:s.size_formatted||Re(s.size)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:s.date_formatted}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>Ce(s.name),className:"inline-flex items-center gap-1 px-4 py-2 bg-blue-50 text-blue-700 hover:bg-blue-100 rounded-lg text-xs font-medium transition-colors",title:"Descargar este respaldo",children:[e.jsx(X,{size:14}),"Descargar"]}),e.jsxs("button",{onClick:()=>{confirm(`¿Está seguro de eliminar el respaldo ${s.name}?`)&&ke(s.name)},className:"inline-flex items-center gap-1 px-4 py-2 bg-red-50 text-red-700 hover:bg-red-100 rounded-lg text-xs font-medium transition-colors",title:"Eliminar este respaldo",children:[e.jsx(De,{size:14}),"Eliminar"]})]})})]},r))})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No hay respaldos disponibles"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:'Crea el primer respaldo haciendo clic en el botón "Descargar Respaldo"'})]})})]})]})]})]}),pe&&e.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirmar Restauración"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Por favor ingresa tu contraseña para confirmar la restauración de la base de datos."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),e.jsx("input",{type:"password",value:B,onChange:Ee,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),H&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:H})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:Se,disabled:se,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:se?"Restaurando...":"Confirmar"}),e.jsx("button",{onClick:()=>G(!1),className:"bg-gray-700 hover:bg-gray-800 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Cancelar"})]})]})})]})}export{cs as default};
